<%= turbo_frame_tag 'table' do %>
  <table style="text-align: left">
    <tr>
      <th>Player</th>
      <th>Guild</th>
      <th>Kill count</th>
      <th>Death count</th>
      <th>Assist count</th>
      <th>Kill fame</th>
      <th>Death fame</th>
    </tr>
    <% players.each do |player| %>
      <tr>
        <td>
          <%= link_to player.name, player, target: "_top" %>
        </td>
        <td>
          <% if player.guild.present? %>
            <% guild = player.guild %>
            <%= link_to guild.name, guild, target: "_top" %>
          <% end %>
        </td>
        <td>
          <%= player.total_kill_count %>
        </td>
        <td>
          <%= player.total_death_count %>
        </td>
        <td>
          <%= player.total_assist_count %>
        </td>
        <td>
          <%= player.total_kill_fame %>
        </td>
        <td>
          <%= player.total_death_fame %>
        </td>
      </tr>
    <% end %>
  </table>
  <% args = { list: list + 20 }.merge(args) %>
  <%= link_to "Show more", players_path(args) %>
<% end %>
